<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head head th:include="common/common_css::commonCss">
    <meta charset="utf-8">
    <link rel="icon" type="image/png" sizes="16x16" th:href="@{/img/favicon.png}">
    <title>用户登陆</title>

    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
</head>

<body style="background-color:#254281;">
<nav class="navbar navbar-inverse">
    <button type="button" class="btn btn-default btn-lg">
        <span class="glyphicon glyphicon-user" aria-hidden="true"></span> User
    </button>
</nav>

    <div style="text-align: center;width: 600px;height: 200px;margin:0px auto;margin-top: 300px;background-color:#254281;">
        <h1 class="box-title text-muted">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;开始注册</h1>
        <form class="form-horizontal" role="form" id="registerForm">
            <div class="form-group">
                <label for="username" class="col-sm-2 control-label text-muted">账号</label>
                <div class="col-sm-10">
                    <input type="text" name="username" class="form-control" id="username" placeholder="请输入账号">
                </div>
            </div>
            <div class="form-group">
                <label for="password" class="col-sm-2 control-label text-muted">密码</label>
                <div class="col-sm-10">
                    <input type="password" name="password" class="form-control" id="password" placeholder="请输入密码">
                </div>
            </div>
<!--            <div class="form-group">-->
<!--                <label for="password" class="col-sm-2 control-label">性别</label>-->
<!--                <div class="col-sm-10">-->
<!--                    <input type="text" name="gender" class="form-control" id="gender" placeholder="请输入性别">-->
<!--                </div>-->
<!--            </div>-->
            <div class="form-check">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <input
                        class="form-check-input"
                        type="checkbox"
                        value=""
                        id="flexCheckDefault"
                />
                <label class="form-check-label text-muted" for="flexCheckDefault">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;我已同意注册参与并将遵守所有对应要求。<a data-toggle="modal" data-target="#myModal">点击查看细则</a>
                </label>
            </div>
            <!-- Trigger the modal with a button -->
<!--            <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">查看细则</button>-->

            <!-- Modal -->
            <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">详细介绍</h4>
                        </div>
                        <div class="modal-body">
                            <p>本网站仅为项目针对小学3-4年级学生数学认知诊断研究所用，无任何其他目的。</p>
                            <p>所有收集的数据和材料仅用于学术目的，参与者的信息受到保护</p>
                            <p>进入平台将进行一份在线测试，完成测试后将有一份在线问卷表</p>
                            <p><b>注意：参与全程自愿，一经注册则代表同意加入</b></p>

                            <p>请认真阅读以上信息，感谢你的参与配合！</p>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                        </div>
                    </div>

                </div>
            </div>
            <br>

            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">

                    <button type="button" onclick="userRegister()" class="btn btn-warning" style="width:100px;">确认注册</button>

                </div>
            </div>
        </form>
    </div>

<img th:src="@{/img/bg.jpeg}"/>
<div th:include="common/common_js::commonJs"></div>

<script>
    /*<![CDATA[*/
    ctxPath = /*[[@{/}]]*/ '';
    /*]]>*/


    function userRegister(){

        $.ajax({
            url:ctxPath+'adminSaveUser',
            data:$("#registerForm").serialize(),
            type:'POST',
            success:function(data){
                if (data.code == 1){
                    window.location.href = ctxPath+"/userLogin";//登录成功  跳转到用户主页面
                } else{
                    alert("注册失败，请检查输入信息");
                }
            }
        })
    }
</script>
</body>

</html>